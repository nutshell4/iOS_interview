# 重构

## 重构的第一步

### 先写测试  

* 测试驱动流程
Fail --> Pass --> Refactor(设计) --> Fail
环路完成的时间：10-15 分钟

* 一定要不厌其烦地运行测试。

## 代码坏味道

* 数据簇 （DataClust）- startDate, endDate
* 无法沟通的名字
注释是代码味道的除臭剂
注释的唯一的应用场景 - hacker方式解决问题（如解决特别的性能问题，）

* 懒惰的类 - 类自己不做任何事，只是调用其他类  
类的两个东西-数据，方法-> 属性，动作
* 抽象干扰
* 特性嫉妒  --> 行为归属问题 （行为应该归属为信息最多的类）
迪米特法则， ———> 能够调用的方法类型
类方法， 参数类方法， 方法内部创建的对象的方法，类成员变量方法
